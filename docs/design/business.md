---
title: 业务理解与思考
---

## 代码构建部署方式

前端代码的构建可以大概分成两种，一种是有前端自己的服务，另一种是纯粹的静态文件通过 nginx 做代理。

### 构建成纯静态文件

前端打包生成纯静态文件，将一切的渲染都放到浏览器中执行，

##### 优点

- 技术需求较为简单，管理方便，spa 页面的框架技术也很成熟。
- 代码仅需考虑在运行在浏览器环境。
- 占用服务器资源少，仅需要一个 nginx 代理服务。
- 仅需要管理前端页面路由，后端的路由只需要全部重定向到前端的路由即可。

##### 缺点

- 不同的环境需要分别打包，无法做到单次打包应用到多个环境。
- 局限性较强，许多功能无法做，部分优化内容也有一定的局限性，例如 seo 优化无法做，许多展示上的数据以及数据结构更强依赖于前端，而此类优化只能交由后端同学做，或者在浏览器端重复处理。

### 搭建 node 服务

前端本身使用的便是 js 语言，所以采用 node 服务进行管理。其中可以将服务进行 docker 镜像构建，外部输入环境变量，服务中进行模版渲染的方式进行页面的返回。

##### 优点

- 可以做服务端渲染。
- 实现一套构建，多个环境。
- 可以做 bff 层，自己想要什么数据便拿什么数据。
- 可以更加灵活和自由的组合。

##### 缺点

- 更加复杂，也可能由于操作太骚反而性能差很多。
- 更加占用服务器资源。

## 前端代码设计

编写代码时不应该只去考虑业务的实现，也应该考虑到后续维护代码时别人如何更好的去理解你的代码，所以对于需求的功能拆分上就应该体现出编写代码时的思路。

大部分页面的需求，首先进行功能的拆分，其次考虑每个功能模块的如何与程序本身交互，如何在界面中与用户交互。最简单且最常见的场景便是一个`value`解决和程序本身的交互一个`onchange`去解决和用户的的交互，最多再加一个`option`去写功能更多的组件的配置。

例如 input、select 等组件都是如此。而在稍微复杂一点的业务场景中，也可以基于此去进行思考设计。

比如拖拽业务，首先根据功能可以分成三个部分。拖拽的锚点，还需要一个可拖拽区域的限定，以及跟随锚点被一起拖拽的区块，三部分。这样拆分的原因主要是因为业务场景中锚点和被一起拖拽的区块可能是分开的，便需要拆分成两个组件的组合，功能拆分好后只需要考虑每个小模块中与用户交互，如何与程序交互便可。
